<div class="row page-titles">
  <div class="col-md-6 col-sm-12 align-self-center">
    <h4 class="mb-1 text-muted"> <i><img src="assets/img/clipboard.png" /></i> Manage Designation</h4>

  </div>
  <div class="col-md-6 col-sm-12 align-self-center">

    <div class="float-right">

      <a href="#" class="btn btn-success btn-lg" data-toggle="modal" data-target="#myModal"> Add Designation</a>&nbsp;
      <a href="#" class="btn btn-success btn-lg" data-toggle="modal" data-target="#myModal2"> Delete Designation</a>
    </div>


  </div>

</div>



<!-- The Modal -->
<form [formGroup]="validatingFormModel">
  <div class="modal fade" id="myModal">
    <div class="modal-dialog ">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4>Add Designation</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <div class="form-group">
            <label> New Designation</label>
            <input type="text" class="form-control" formControlName="newdesignationname"
              [(ngModel)]="addDesignationData.designation_name" placeholder="New Designation" />
            <div class="colorred"
              *ngIf="validatingFormModel.get('newdesignationname').hasError('required') && validatingFormModel.get('newdesignationname').touched">
              Designation name required.</div>
          </div>

        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button class="btn btn-success" (click)="AddDesignation()">Add</button>
        </div>

      </div>
    </div>
  </div>
</form>


<!-- The Modal For Delete Designation-->

<div class="modal fade" id="myModal2">
  <div class="modal-dialog ">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4>Delete Designation</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="form-group">
          <label>Select Designation Name </label>
          <select class="form-control" (change)="changeDesignationName($event)" size="15">
            <option *ngFor="let designation of designationdetail" value="{{designation.id}}"
              [selected]="designation.id == DeleteDesignationData.designation_id">
              {{designation.designation}}
            </option>
          </select>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button class="btn btn-success" (click)="DeleteDesignation()">Delete</button>
      </div>

    </div>
  </div>
</div>


<div class="row">
  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12  mb-4">
    <div class="card border-0 rounded-0 h-100">

      <div class="card-body">
        <form [formGroup]="validatingForm">



          <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Select Designation Name </label>
                    <select class="form-control" (change)="changeDesignation($event)" size="28">
                      <option *ngFor="let designation of designationdetail" value="{{designation.id}}"
                        [selected]="designation.id == manageDesignationData.designation_id">
                        {{designation.designation}}
                      </option>
                    </select>
        
        
                  </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Please Provide New Designation Name</label>
                    <input type="text" class="form-control" placeholder="New Name" formControlName="name"
                      [(ngModel)]="manageDesignationData.newDesignation_name">
                    <div class="colorred"
                      *ngIf="validatingForm.get('name').hasError('required') && validatingForm.get('name').touched">New
                      Designation Name
                      required.</div>
                  </div>
        
        
        
        
                  <div class="form-group">
                    <button class="btn btn-success btn-md btnSubmit" (click)="updateNow()">Update Designation Name</button>
        
                  </div>
              </div>

          </div>

         

          


        </form>
      </div>
    </div>
  </div>

</div>

<div class="loaderwrapper" *ngIf="showLoader">
  <div class="loader">
 
  </div>
  <br/>
  <p id="loadertext">
    <label>Loading please wait...</label>
</p>
</div>